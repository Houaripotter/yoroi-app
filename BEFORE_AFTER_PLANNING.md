# Planning : Avant / Apr√®s

## Vue Programme

### ‚ùå AVANT (trop simple)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ LUNDI                           ‚îÇ
‚îÇ [Gracie Barra]              >   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```
**Probl√®mes** :
- On ne voit pas l'heure
- On ne voit pas le type de s√©ance
- On ne voit pas ce qui sera travaill√©
- Impossible de savoir si c'est le matin ou le soir

### ‚úÖ APR√àS (emploi du temps PRO)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ LUNDI                            [Zzz]  ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ üî¥                                  ‚îÇ ‚îÇ  ‚Üê Barre couleur club
‚îÇ ‚îÇ ‚è∞ 18:00 - 19:30         üåÜ SOIR   ‚îÇ ‚îÇ  ‚Üê Heure + Badge moment
‚îÇ ‚îÇ ü•ã Gracie Barra                    ‚îÇ ‚îÇ  ‚Üê Club + logo
‚îÇ ‚îÇ [Cours] [Sparring]                 ‚îÇ ‚îÇ  ‚Üê Types de s√©ance
‚îÇ ‚îÇ Passage de garde                   ‚îÇ ‚îÇ  ‚Üê Th√®me technique
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```
**Avantages** :
- ‚úÖ Heure de d√©but + dur√©e calcul√©e
- ‚úÖ Badge moment (MATIN/MIDI/SOIR)
- ‚úÖ Logo du club visible
- ‚úÖ Types de s√©ance en tags
- ‚úÖ Th√®me technique visible
- ‚úÖ Barre de couleur du club
- ‚úÖ Bouton repos rapide
- ‚úÖ Note personnalis√©e si pr√©sente

---

## Vue Calendrier

### ‚ùå AVANT (petites cases)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ LUN MAR MER JEU VEN SAM DIM ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  1   2   3   4   5   6   7  ‚îÇ  ‚Üê Cases petites
‚îÇ  ü•ã  -   ü•ã  -   -   ü•ã  -  ‚îÇ  ‚Üê Emoji peu visible
‚îÇ                             ‚îÇ
‚îÇ  8   9  10  11  12  13  14  ‚îÇ
‚îÇ  -   ü•ã  -   ü•ã  -   -   -  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```
**Probl√®mes** :
- Cases trop petites
- Emoji difficile √† voir
- Pas d'indication d'intensit√©
- On ne voit pas quel club

### ‚úÖ APR√àS (grandes cases avec intensit√©)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ LUN  MAR  MER  JEU  VEN  SAM  DIM      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îê‚îå‚îÄ‚îÄ‚îÄ‚îê‚îå‚îÄ‚îÄ‚îÄ‚îê‚îå‚îÄ‚îÄ‚îÄ‚îê‚îå‚îÄ‚îÄ‚îÄ‚îê‚îå‚îÄ‚îÄ‚îÄ‚îê‚îå‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ ‚îÇ 1 ‚îÇ‚îÇ 2 ‚îÇ‚îÇ 3 ‚îÇ‚îÇ 4 ‚îÇ‚îÇ 5 ‚îÇ‚îÇ 6 ‚îÇ‚îÇ 7 ‚îÇ   ‚îÇ  ‚Üê Cases 60px
‚îÇ ‚îÇü•ã ‚îÇ‚îÇ   ‚îÇ‚îÇü•ã ‚îÇ‚îÇ   ‚îÇ‚îÇ   ‚îÇ‚îÇü•ãüí™‚îÇ‚îÇ   ‚îÇ   ‚îÇ  ‚Üê Logos visibles
‚îÇ ‚îÇ   ‚îÇ‚îÇ   ‚îÇ‚îÇüèãÔ∏è ‚îÇ‚îÇ   ‚îÇ‚îÇ   ‚îÇ‚îÇ+1 ‚îÇ‚îÇ   ‚îÇ   ‚îÇ  ‚Üê Badge +N
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îò‚îî‚îÄ‚îÄ‚îÄ‚îò‚îî‚îÄ‚îÄ‚îÄ‚îò‚îî‚îÄ‚îÄ‚îÄ‚îò‚îî‚îÄ‚îÄ‚îÄ‚îò‚îî‚îÄ‚îÄ‚îÄ‚îò‚îî‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ VERT VERT VERT                         ‚îÇ  ‚Üê Fond color√©
‚îÇ l√©ger moyen fort                       ‚îÇ     selon intensit√©
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```
**Avantages** :
- ‚úÖ Cases 3x plus grandes (60px min)
- ‚úÖ Fond color√© selon intensit√© :
  - 1 s√©ance = vert l√©ger (#22C55E10)
  - 2 s√©ances = vert moyen (#22C55E20)
  - 3+ s√©ances = vert fort (#22C55E30)
- ‚úÖ Logos clubs 20x20 (au lieu de emoji)
- ‚úÖ Badge +N si plus de 3 s√©ances
- ‚úÖ Bordure sur aujourd'hui
- ‚úÖ Ic√¥ne repos (lune)

---

## Modal d'ajout

### ‚ùå AVANT (s√©lection unique)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ TYPE DE S√âANCE                  ‚îÇ
‚îÇ [ Cours ]  [ Sparring ]         ‚îÇ  ‚Üê Un seul choix
‚îÇ                                 ‚îÇ
‚îÇ MUSCLES                         ‚îÇ
‚îÇ [ Pecs ]  [ Dos ]  [ Jambes ]   ‚îÇ  ‚Üê Un seul choix
‚îÇ                                 ‚îÇ
‚îÇ DUR√âE                           ‚îÇ
‚îÇ [ 30min ] [ 1h ] [ 1h30 ]       ‚îÇ  ‚Üê Presets fixes
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```
**Probl√®mes** :
- Un seul type √† la fois
- Un seul muscle √† la fois
- Pas de champ personnalis√©
- Pas de th√®me technique pour JJB
- Dur√©es fixes uniquement

### ‚úÖ APR√àS (multi-s√©lection)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ TYPE DE S√âANCE                          ‚îÇ
‚îÇ S√©lectionne un ou plusieurs types       ‚îÇ
‚îÇ [‚úì Cours ] [‚úì Sparring ] [ Drilling ]   ‚îÇ  ‚Üê MULTI-s√©lection
‚îÇ                                         ‚îÇ
‚îÇ GROUPES MUSCULAIRES                     ‚îÇ
‚îÇ S√©lectionne un ou plusieurs muscles     ‚îÇ
‚îÇ [‚úì Pecs ] [‚úì Dos ] [ √âpaules ]          ‚îÇ  ‚Üê MULTI-s√©lection
‚îÇ [ Triceps ] [ Jambes ] [+ Autre]        ‚îÇ  ‚Üê Bouton custom
‚îÇ                                         ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê             ‚îÇ
‚îÇ ‚îÇ Trap√®zes            [‚úì] ‚îÇ  ‚Üê Input personnalis√©
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò             ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ TH√àME TECHNIQUE (optionnel)             ‚îÇ
‚îÇ Ce que tu vas travailler                ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
‚îÇ ‚îÇ Passage de garde                ‚îÇ     ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
‚îÇ Suggestions :                           ‚îÇ
‚îÇ [Sweeps] [Soumissions] [Takedowns]      ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ DUR√âE                                   ‚îÇ
‚îÇ [ 30min ] [ 1h ] [ 1h30 ] [‚úì Perso]    ‚îÇ
‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ 75 min            ‚îÇ  ‚Üê Slider
‚îÇ 15min                           3h      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```
**Avantages** :
- ‚úÖ MULTI-s√©lection muscles
- ‚úÖ MULTI-s√©lection types s√©ance
- ‚úÖ Champ personnalis√© muscles
- ‚úÖ Th√®me technique (JJB/MMA)
- ‚úÖ Suggestions rapides
- ‚úÖ Dur√©e personnalis√©e
- ‚úÖ D√©tection auto du sport
- ‚úÖ Design moderne (ic√¥nes Lucide)

---

## R√©sum√© des am√©liorations

### Vue Programme
| Avant | Apr√®s |
|-------|-------|
| Nom du club uniquement | Heure + dur√©e + club + types + d√©tails + note |
| Pas d'heure | Badge moment (MATIN/MIDI/SOIR) |
| Pas de d√©tails | Muscles OU th√®me technique visible |
| Design basique | Design professionnel avec barre couleur |

### Vue Calendrier
| Avant | Apr√®s |
|-------|-------|
| Cases ~40px | Cases 60px minimum |
| Emoji | Logos clubs 20x20 |
| Pas d'intensit√© | Fond color√© selon nb s√©ances |
| Pas de +N | Badge +N si plus de 3 s√©ances |

### Modal d'ajout
| Avant | Apr√®s |
|-------|-------|
| S√©lection unique | Multi-s√©lection |
| Pas de custom | Champ personnalis√© |
| Pas de th√®me | Th√®me technique + suggestions |
| Dur√©es fixes | Slider personnalis√© |

---

## Code r√©duit

### planning.tsx

**Avant** : ~1700 lignes avec code dupliqu√©
**Apr√®s** : ~870 lignes, code modulaire

**Exemple Vue Programme** :
```tsx
// AVANT : ~100 lignes de JSX complexe
{DAYS_FR.map((day, index) => {
  const dayProgramData = weeklyProgram[index] || [];
  const daySchedule = dayProgramData.map(...)
  // ... 50 lignes de code ...
})}

// APR√àS : Composant propre et r√©utilisable
<ProgrammeView
  onAddSession={handleAddSessionFromProgramme}
  onSessionPress={handleSessionPress}
  onToggleRest={handleToggleRest}
/>
```

**Exemple Vue Calendrier** :
```tsx
// AVANT : ~130 lignes de grille calendrier
<View style={styles.calendarGrid}>
  {calendarDays.map((day, index) => {
    // ... logique complexe ...
    return <TouchableOpacity>...</TouchableOpacity>
  })}
</View>

// APR√àS : Composant d√©di√©
<EnhancedCalendarView
  currentMonth={currentMonth}
  workouts={workouts}
  clubs={clubs}
  onMonthChange={setCurrentMonth}
  onDayPress={handleDayPress}
  selectedDate={selectedDate}
/>
```

---

## Donn√©es stock√©es

### Base de donn√©es

**Avant** :
```sql
trainings:
  - club_id
  - sport
  - session_type       -- Un seul type
  - start_time
  - duration_minutes
  - notes
  - muscles            -- Un seul muscle (texte)
```

**Apr√®s** :
```sql
trainings:
  - club_id
  - sport
  - session_type       -- Ancien (pour compatibilit√©)
  - session_types      -- NOUVEAU : JSON array ["cours", "sparring"]
  - start_time
  - duration_minutes
  - notes
  - muscles            -- MODIFI√â : JSON array ["Pecs", "Dos", "Trap√®zes"]
  - technical_theme    -- NOUVEAU : "Passage de garde"
```

**Migration** : Automatique au d√©marrage, compatible avec anciennes donn√©es

---

## Exp√©rience utilisateur

### Avant
1. L'utilisateur voit "Gracie Barra" sur LUNDI
2. Il clique pour voir qu'il n'y a pas d'heure
3. Il ne sait pas ce qui sera travaill√©
4. Il doit se rappeler lui-m√™me

### Apr√®s
1. L'utilisateur voit tout d'un coup d'≈ìil :
   - 18:00 - 19:30 (SOIR)
   - Gracie Barra
   - Cours + Sparring
   - Passage de garde
2. Il sait exactement quoi, quand, et comment
3. C'est un vrai emploi du temps d'athl√®te PRO

---

**L'utilisateur voit maintenant son planning comme un VRAI emploi du temps professionnel !** üí™
